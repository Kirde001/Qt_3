// editbookdialog.cpp

// Реализация eventFilter для блокировки клавиатурного ввода в QDateEdit
bool EditBookDialog::eventFilter(QObject *watched, QEvent *event)
{
    // Проверяем, что событие предназначено для publishDateEdit
    if (watched == publishDateEdit) {
        // Если событие - это нажатие клавиши
        if (event->type() == QEvent::KeyPress) {
            // QKeyEvent *keyEvent = static_cast<QKeyEvent *>(event); // You can use this for specific key logic if needed
            // Отладочное сообщение: qDebug() << "Intercepted key press on QDateEdit:" << keyEvent->key();

            // Возвращаем true, чтобы "потребить" (игнорировать) событие.
            // Это предотвратит ввод текста и изменение даты с клавиатуры в QDateEdit.
            return true;
        }
        // Можно также перехватить QEvent::Wheel для отключения изменения даты с помощью колеса мыши, если нужно
        // if (event->type() == QEvent::Wheel) {
        //     return true; // Consume wheel event
        // }
    }

    // Для всех остальных объектов и типов событий, передаем событие дальше для обычной обработки
    return QDialog::eventFilter(watched, event);
}
